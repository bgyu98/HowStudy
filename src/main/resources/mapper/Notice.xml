<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.dao.NoticeDAO">

	<!--  새글 등록 -->
	<insert id="insertNotice" parameterType="NoticeVO">
		INSERT INTO 
		NOTICE(
			nNUM,
			nTITLE, 
			nCNT, 
			nCOMMENT 
			 <if test="nNAME != null or nMAINNAME != null">
				<!-- 사진 파일이 업로드 되었을때 -->
				, nNAME , nREALNAME, nNSIZE, nMAINNAME, nMAINREALNAME, nMAINNSIZE
			  </if>
			,nDATE
			,nTAG1
			,nTAG2
			,nTAG3
				)
		VALUES(
			   nextval(howstudy.nNUM),
			   #{nTITLE}, 
			   0,
			   #{nCOMMENT}
			   <if test="nNAME != null or nMAINNAME != null">
	            ,#{nNAME},#{nREALNAME},#{nNSIZE},#{nMAINNAME},#{nMAINREALNAME},#{nMAINNSIZE}
	            </if>
			   ,NOW()
			   ,#{nTAG1}
			   ,#{nTAG2}
			   ,#{nTAG3}
			   )
	</insert>
	
	
	<select id="selectAllNotice" resultType="NoticeVO">
			SELECT nNUM, nTITLE,nDATE
			FROM NOTICE
			ORDER BY nNUM DESC
	</select>
	
		 <!-- 글 세부 조회 --> 
	 <select id="seleteNoticeBoard" resultType="NoticeVO">
        SELECT 
        	nNUM,
			nTITLE, 
			nCNT, 
			nCOMMENT,
			nNAME, 
			nREALNAME, 
			nNSIZE, 
			nMAINNAME, 
			nMAINREALNAME, 
			nMAINNSIZE,
			nDATE,
			nTAG1,
			nTAG2,
			nTAG3
			FROM NOTICE
			WHERE nNUM = #{nNUM}
    </select> 
	
	

</mapper>
